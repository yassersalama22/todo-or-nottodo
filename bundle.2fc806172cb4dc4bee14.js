(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,n||"default");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}const o=function(){return t=function t(e,n,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.title=e,this.description=n,this.dueDate=o,this.status=i},(n=[{key:"toggleStatus",value:function(){this.status=!this.status}},{key:"updateTitle",value:function(t){this.title=t}},{key:"updateDescription",value:function(t){this.description=t}},{key:"updateDueDate",value:function(t){this.dueDate=t}}])&&e(t.prototype,n),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,u(o.key),o)}}function u(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}const c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.id=n||t.generateNextId(),this.items=[]}return e=t,i=[{key:"generateNextId",value:function(){var t=Object.keys(localStorage).filter((function(t){return t.startsWith("todo_")}));if(0===t.length)return"todo_1";var e=Math.max.apply(Math,r(t.map((function(t){return parseInt(t.split("_")[1])}))));return"todo_".concat(e+1)}},{key:"loadFromLocalStorage",value:function(e){var n=JSON.parse(localStorage.getItem(e)),i=new t(n.name,e);return i.items=n.items.map((function(t){return new o(t.title,t.description,t.dueDate,t.status)})),i}},{key:"loadAll",value:function(){var e=Object.keys(localStorage).filter((function(t){return t.startsWith("todo_")}));return e.sort((function(t,e){return parseInt(t.split("_")[1])-parseInt(e.split("_")[1])})),e.map((function(e){return t.loadFromLocalStorage(e)}))}},{key:"deleteFromLocalStorage",value:function(t){localStorage.removeItem(t)}}],(n=[{key:"saveToLocalStorage",value:function(){localStorage.setItem(this.id,JSON.stringify(this))}},{key:"addItem",value:function(t){this.items.push(t)}},{key:"removeItem",value:function(t){this.items.splice(t,1)}},{key:"updateItem",value:function(t,e){this.items[t]=e}},{key:"getItems",value:function(){return this.items}}])&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,i}();function d(){var t=document.getElementById("main-content"),e=c.loadAll();t.innerHTML="",e.forEach((function(e){var n=document.createElement("div");n.className="todo-card";var i=document.createElement("h3");i.textContent=e.name;var r=document.createElement("button");r.innerHTML='<i class="fas fa-plus"></i> Add Item',r.className="add-item-button",r.addEventListener("click",(function(){return function(t){var e=document.getElementById("main-content");e.innerHTML='\n    <div class="form-container">\n      <h2>\n        Add Item\n        <button class="close-button" id="close-add-item"><i class="fas fa-times"></i> Close</button>\n      </h2>\n      <form id="add-item-form">\n        <div>\n          <label for="item-title">Item Title:</label>\n          <input type="text" id="item-title" name="item-title" required>\n        </div>\n        <div>\n          <label for="item-description">Item Description:</label>\n          <input type="text" id="item-description" name="item-description" required>\n        </div>\n        <div>\n          <label for="item-due-date">Due Date:</label>\n          <input type="date" id="item-due-date" name="item-due-date" required>\n        </div>\n        <div>\n          <button type="submit"><i class="fas fa-save"></i> Add Item</button>\n        </div>\n      </form>\n    </div>\n  ',document.getElementById("close-add-item").addEventListener("click",d),document.getElementById("add-item-form").addEventListener("submit",(function(e){e.preventDefault();var n=document.getElementById("item-title").value,i=document.getElementById("item-description").value,r=document.getElementById("item-due-date").value,a=c.loadFromLocalStorage(t),l=new o(n,i,r);a.addItem(l),a.saveToLocalStorage(),d()}))}(e.id)})),i.appendChild(r),n.appendChild(i);var a=document.createElement("ul");e.getItems().forEach((function(t,n){var o=document.createElement("li");o.className=t.status?"completed":"";var i=document.createElement("input");i.type="checkbox",i.checked=t.status,i.className="item-checkbox",i.addEventListener("change",(function(){t.status=!t.status,e.updateItem(n,t),e.saveToLocalStorage(),d()}));var r=document.createElement("span");r.className="item-info",r.textContent="".concat(t.title,": ").concat(t.description," (Due: ").concat(t.dueDate,")");var l=document.createElement("button");l.innerHTML='<i class="fas fa-trash-alt"></i> Delete',l.className="delete-item-button",l.addEventListener("click",(function(){e.removeItem(n),e.saveToLocalStorage(),d()})),o.appendChild(i),o.appendChild(r),o.appendChild(l),a.appendChild(o)})),n.appendChild(a),t.appendChild(n)}))}document.getElementById("all-todos").addEventListener("click",(function(t){t.preventDefault(),d()})),document.getElementById("add-todo").addEventListener("click",(function(t){t.preventDefault(),document.getElementById("main-content").innerHTML='\n    <div class="form-container">\n      <h2>\n        Add Todo\n        <button class="close-button" id="close-add-todo"><i class="fas fa-times"></i> Close</button>\n      </h2>\n      <form id="add-todo-form">\n        <div>\n          <label for="list-name">List Name:</label>\n          <input type="text" id="list-name" name="list-name" required>\n        </div>\n        <div>\n          <button type="submit"><i class="fas fa-save"></i> Add Todo</button>\n        </div>\n      </form>\n    </div>\n  ',document.getElementById("close-add-todo").addEventListener("click",d),document.getElementById("add-todo-form").addEventListener("submit",(function(t){t.preventDefault();var e=document.getElementById("list-name").value;new c(e).saveToLocalStorage(),d()}))})),0===c.loadAll().length&&new c("Default Todo List").saveToLocalStorage(),d()})();